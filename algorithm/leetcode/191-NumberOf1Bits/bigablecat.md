**191. 位1的个数**  
---

[https://leetcode-cn.com/problems/number-of-1-bits/](https://leetcode-cn.com/problems/number-of-1-bits/)  

* 官方题解1：遍历32位  

```java  

    public int hammingWeight(int n) {
        //计数器，统计整数n的2进制数上有多少个1
        int bits = 0;
        //定义mask默认值1，用来和整数的每一位进行与运算
        int mask = 1;
        //遍历整数的32位
        for (int i = 0; i < 32; i++) {
            // 在二进制的位与运算中，1 & 1 = 1, 1 & 0 = 0
            // 通过 n & mask 的位与运算，判断整数n的二进制数在第i个位上是否为1
            // (n & mask) != 0 表示n的二进制数在第i个位上的数字等于1
            if ((n & mask) != 0) {
                //n二进数上每出现一次1，bits就递增一次
                bits++;
            }
            //位运算的左移运算符<<表示将当前整数的二进制数向左移动指定的位数
            //mask <<= 1 表示将mask左移一位
            //在mask的32位二进制数中，1不断从右向左移动，其他位上都是0
            mask <<= 1;
            // 完整过程举例：
            // 假设 n = 6，n的32位二进制数的最右边四位是 0110
            // 当i = 0时，mask = 1 的二进制数是 0001
            // 将 n的二进制数0110 和 mask当前的二进制数 0001 进行位与运算
            // 0110 & 0001 = 0，各个位上都没有同时为1，所以结果是0
            // 当i = 1时，mask经过位移，二进制数变成 0010
            // 0110 & 0010 = 1，在倒数第二位上同时为1，所以结果是1
            // bits在i=1时递增1以此类推
        }
        //返回位1的统计结果
        return bits;
    }

```  

**复杂度分析**  

时间复杂度：O(1)，
只对整数的32位进行了一次遍历，
时间复杂度是常数，所以时间复杂度是O(1)

空间复杂度：O(n)，
没有使用额外空间，空间复杂读是O(1)

---

* 官方题解2：消除最低有效的1位  

```java  

    public int hammingWeight(int n) {
        //计数器，统计整数n的2进制数上有多少个1
        int sum = 0;
        //当n不等于0时循环继续
        while (n != 0) {
            //n不等于0说明n的二进制数中仍然有1存在
            //计数器加1
            sum++;
            //n &= (n - 1)拆分后是两个步骤，即n = n & (n-1)
            //将每次 n & (n-1)的结果赋值给整数n
            //n & (n-1)的位与运算会消去n的二进制数中最低有效的1位
            //当消除n的二进制数中最后一个1位时，n == 0，跳出循环，任务结束
            n &= (n - 1);
            // 完整过程举例：
            // 假设 n = 6，n的32位二进制数的最右边四位是 0110
            // n - 1 的32位二进制数的最右边四位是 0101
            // n & (n-1)，即 0110 & 0101 = 0100
            // 原本 0110 中的最低有效1位被消去，即右向左数的第一个1
            // 继续循环，0100 - 1 = 0011
            // 0100 & 0011 = 0000，
            // 即0100中的1位也被消去，最终结果为0，统计得到2个1位
        }

        //返回1位的统计总数
        return sum;
    }

```  

**复杂度分析**  

时间复杂度：O(1)，
最差情况时间复杂度是32，
最终时间复杂度是O(1)

空间复杂度：O(n)，
没有使用额外的空间，
空间复杂度是O(n)

---

**参考资料**  

* 英文官方题解：  
[https://leetcode.com/articles/number-1-bits/](https://leetcode.com/articles/number-1-bits/)  
